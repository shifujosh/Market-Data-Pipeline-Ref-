flowchart TD
    classDef input fill:#1e293b,stroke:#3b82f6,stroke-width:1px,color:#93c5fd;
    classDef schema fill:#1e293b,stroke:#f59e0b,stroke-width:2px,color:#fbbf24;
    classDef validate fill:#1e293b,stroke:#a855f7,stroke-width:2px,color:#d8b4fe;
    classDef fail fill:#2a1a1a,stroke:#ef4444,stroke-width:2px,color:#fca5a5;
    classDef store fill:#064e3b,stroke:#10b981,stroke-width:2px,color:#6ee7b7;
    classDef audit fill:#1e293b,stroke:#0ea5e9,stroke-width:2px,color:#7dd3fc;

    Raw["Raw Data"]:::input
    
    subgraph Schema ["ðŸ“‹ Schema is Contract"]
        Raw --> Parse["Parse Against Schema"]:::schema
    end
    
    subgraph Edge ["ðŸ›¡ï¸ Validate at Edge"]
        Parse --> Struct{"Structure?"}:::validate
        Struct -->|Pass| Semantic{"Semantics?"}:::validate
        Semantic -->|Pass| Temporal{"Temporal?"}:::validate
    end
    
    subgraph Loud ["ðŸ”Š Fail Loudly"]
        Struct -->|Fail| DLQ["Dead Letter Queue"]:::fail
        Semantic -->|Fail| DLQ
        Temporal -->|Fail| DLQ
        DLQ --> Alert["âš ï¸ Alert"]:::fail
    end
    
    Temporal -->|Pass| Transform["Transform"]:::store
    Transform --> Store[("Store")]:::store
    
    subgraph Log ["ðŸ“œ Audit Everything"]
        Store --> Lineage["Lineage"]:::audit
        Store --> Timestamps["Timestamps"]:::audit
        Store --> Diffs["Diffs"]:::audit
    end
